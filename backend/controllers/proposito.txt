Aqui va toda toda LA LOGICA DE NEGOCIOS dividida en modulos